import{H as K,G as w,g as n,M as h,h as y,o,c as a,d as t,t as d,l as m,F as p,x as _,A as V,i as u}from"./vendor.c9635540.js";import{a as f,A as r,_ as x,l as P,P as F}from"./index.f64482bf.js";class b{async getProfile(s){const i=await f.get("api/profiles/"+s);r.profile=i.data}async getProfileVaults(s){const i=await f.get("api/profiles/"+s+"/vaults");r.profileVaults=i.data}async getProfileKeeps(s){const i=await f.get("api/profiles/"+s+"/keeps");r.profileKeeps=i.data}}const g=new b;const C={setup(){const c=K();return w(async()=>{try{await g.getProfile(c.params.id),await g.getProfileVaults(c.params.id),await g.getProfileKeeps(c.params.id)}catch(s){P.error(s),F.toast(s.message,"error")}}),{profile:n(()=>r.profile),profileKeeps:n(()=>r.profileKeeps),profileVaults:n(()=>r.profileVaults),myVaults:n(()=>r.myVaults),account:n(()=>r.account),triggerKeepForm(){h.getOrCreateInstance(document.getElementById("keep-form")).show()},triggerVaultForm(){h.getOrCreateInstance(document.getElementById("vault-form")).show()}}}},A={class:"container-fluid"},B={class:"row"},I={class:"col-12 mt-5 px-md-5"},N={class:"d-flex flex-md-row flex-column"},S=["src","alt"],E={class:"mx-md-5 pt-3"},M={class:"pt-3"},j={key:0},O={key:1},D={class:"row mt-5"},G={class:"col-12 mt-5 ps-md-5"},H=V(" Vaults "),L={key:0,class:"masonry-frame mt-3 ms-md-4"},R={key:1,class:"masonry-frame mt-3 ms-md-4"},T={class:"row mt-5"},q={class:"col-12 mt-5 ps-md-5"},z=V(" Keeps "),J={class:"masonry-frame mt-3 ms-md-4"};function Q(c,s,i,e,U,W){const v=y("Vault"),k=y("Keep");return o(),a("div",A,[t("div",B,[t("div",I,[t("div",N,[t("div",null,[t("img",{class:"profile-img rounded",src:e.profile.picture,alt:e.profile.picture},null,8,S)]),t("div",E,[t("h3",null,d(e.profile.name),1),t("div",M,[e.account.id!=e.profile.id?(o(),a("h4",j," Vaults: "+d(e.profileVaults.length),1)):m("",!0),e.account.id==e.profile.id?(o(),a("h4",O," Vaults: "+d(e.myVaults.length),1)):m("",!0),t("h4",null,"Keeps: "+d(e.profileKeeps.length),1)])])])])]),t("div",D,[t("div",G,[t("h2",null,[H,e.account.id==e.profile.id?(o(),a("i",{key:0,class:"mdi mdi-plus text-primary selectable",title:"Add a Vault",onClick:s[0]||(s[0]=(...l)=>e.triggerVaultForm&&e.triggerVaultForm(...l))})):m("",!0)])])]),e.account.id==e.profile.id?(o(),a("div",L,[(o(!0),a(p,null,_(e.myVaults,l=>(o(),a("div",{key:l.id,class:"mb-3"},[u(v,{vault:l},null,8,["vault"])]))),128))])):(o(),a("div",R,[(o(!0),a(p,null,_(e.profileVaults,l=>(o(),a("div",{key:l.id,class:"mb-3"},[u(v,{vault:l},null,8,["vault"])]))),128))])),t("div",T,[t("div",q,[t("h2",null,[z,e.account.id==e.profile.id?(o(),a("i",{key:0,title:"Add a Keep",class:"mdi mdi-plus text-primary selectable grow",onClick:s[1]||(s[1]=(...l)=>e.triggerKeepForm&&e.triggerKeepForm(...l))})):m("",!0)])])]),t("div",J,[(o(!0),a(p,null,_(e.profileKeeps,l=>(o(),a("div",{key:l.id,class:"mb-3"},[u(k,{keep:l},null,8,["keep"])]))),128))])])}var Z=x(C,[["render",Q],["__scopeId","data-v-1c7aa1ac"]]);export{Z as default};
